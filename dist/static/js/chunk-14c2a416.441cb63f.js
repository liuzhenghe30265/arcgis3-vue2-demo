(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-14c2a416"],{afaa:function(e,t,r){(function(e,r){r(t)})(0,(function(e){"use strict";var t="4.17",r="next";function n(e){if(e.toLowerCase()===r)return r;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function i(e){return void 0===e&&(e=t),"https://js.arcgis.com/"+e+"/"}function o(e){void 0===e&&(e=t);var o=i(e),a=n(e);if(a!==r&&3===a.major){var s=a.minor<=10?"js/":"";return""+o+s+"esri/css/esri.css"}return o+"esri/themes/light/main.css"}function a(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}function s(e,t){if(t){var r=document.querySelector(t);r.parentNode.insertBefore(e,r)}else document.head.appendChild(e)}function u(e){return document.querySelector('link[href*="'+e+'"]')}function c(e){return!e||n(e)?o(e):e}function d(e,t){var r=c(e),n=u(r);return n||(n=a(r),s(n,t)),n}var l="undefined"!==typeof window,p={Promise:l?window["Promise"]:void 0},f={};function m(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}function h(e,t,r){var n;r&&(n=v(e,r));var i=function(){t(e),e.removeEventListener("load",i,!1),n&&e.removeEventListener("error",n,!1)};e.addEventListener("load",i,!1)}function v(e,t){var r=function(n){t(n.error||new Error("There was an error attempting to load "+e.src)),e.removeEventListener("error",r,!1)};return e.addEventListener("error",r,!1),r}function g(e){void 0===e&&(e={}),f=e}function y(){return document.querySelector("script[data-esri-loader]")}function w(){var e=window["require"];return e&&e.on}function x(e){void 0===e&&(e={});var t={};[f,e].forEach((function(e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}));var r=t.version,n=t.url||i(r);return new p.Promise((function(e,i){var o=y();if(o){var a=o.getAttribute("src");a!==n?i(new Error("The ArcGIS API for JavaScript is already loaded ("+a+").")):w()?e(o):h(o,e,i)}else if(w())i(new Error("The ArcGIS API for JavaScript is already loaded."));else{var s=t.css;if(s){var u=!0===s;d(u?r:s,t.insertCssBefore)}t.dojoConfig&&(window["dojoConfig"]=t.dojoConfig),o=m(n),h(o,(function(){o.setAttribute("data-esri-loader","loaded"),e(o)}),i),document.body.appendChild(o)}}))}function b(e){return new p.Promise((function(t,r){var n=window["require"].on("error",r);window["require"](e,(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];n.remove(),t(e)}))}))}function C(e,t){if(void 0===t&&(t={}),w())return b(e);var r=y(),n=r&&r.getAttribute("src");return!t.url&&n&&(t.url=n),x(t).then((function(){return b(e)}))}var S={getScript:y,isLoaded:w,loadModules:C,loadScript:x,loadCss:d,setDefaultOptions:g,utils:p};e.getScript=y,e.isLoaded=w,e.loadModules=C,e.loadScript=x,e.loadCss=d,e.setDefaultOptions=g,e.utils=p,e["default"]=S,Object.defineProperty(e,"__esModule",{value:!0})}))},d49a:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"map-container"}},[t("div",{staticStyle:{position:"absolute",right:"50px",top:"50px","z-index":"999"}},[t("button",{on:{click:function(t){return e.addHeatMap()}}},[e._v("热力图")]),t("button",{on:{click:function(t){return e.clearHeatMap()}}},[e._v("clear")])])])},i=[],o=r("afaa"),a={name:"HeatMap",data(){return{map:"",gisConstructor:{},gisModules:["esri/SpatialReference","esri/graphic","esri/geometry/Point","esri/layers/FeatureLayer","esri/renderers/HeatmapRenderer","esri/geometry/Extent","esri/map"]}},mounted(){this.init()},methods:{clearHeatMap(){let e=this.map.getLayer("热力图");this.map.removeLayer(e)},addHeatMap(e,t){let r=[{x:-13043465.062410325,y:3857375.365345625,count:"10"},{x:-13041492.031617718,y:3857031.398718342,count:"100"},{x:-13041042.964076541,y:3855808.4062657813,count:"1000"},{x:-13044606.840520333,y:3854317.8842142224,count:"100"},{x:-13043035.104126222,y:3855120.4730112157,count:"10"}],n="count",i={geometryType:"esriGeometryPoint",fields:[{name:n,type:"esriFieldTypeInteger",alias:n}]},o={layerDefinition:i,featureSet:null},a=new this.gisConstructor.FeatureLayer(o,{mode:this.gisConstructor.FeatureLayer.MODE_SNAPSHOT,outFields:["*"],opacity:1,id:"热力图"}),s="",u=["rgba(255, 0, 0, 0)","rgb(0, 255, 0)","rgb(255, 255, 0)","rgb(255, 0, 0)"];s="ID"!==n?new this.gisConstructor.HeatmapRenderer({field:n,colors:u,blurRadius:10}):new this.gisConstructor.HeatmapRenderer({colors:u,blurRadius:50,maxPixelIntensity:200,minPixelIntensity:10}),a.setRenderer(s),this.map.addLayer(a,9);for(let c=0;c<r.length;c++){let e=new this.gisConstructor.Point(r[c].x,r[c].y,new this.gisConstructor.SpatialReference(this.map.spatialReference)),t=new this.gisConstructor.graphic(e);if("ID"!==n){let e=Number(r[c].count);t.setAttributes({count:e})}a.refresh(),a.add(t)}},mapClickFun(){this.map.on("click",e=>{console.log(e)})},init(){Object(o["loadCss"])("https://js.arcgis.com/3.32/esri/css/esri.css"),Object(o["loadModules"])(this.gisModules,{url:"https://js.arcgis.com/3.32/"}).then(this.initMap).then(this.mapClickFun)},initMap(e){for(let r in e){let t=this.gisModules[r].split("/").pop();this.gisConstructor[t]=e[r]}this.map=new this.gisConstructor.map("map-container",{basemap:"hybrid",logo:!1,slider:!0});let t={xmin:-117.1839455,ymin:32.68087830000002,xmax:-117.15035189999998,ymax:32.732100979999984};this.map.setExtent(new this.gisConstructor.Extent(t.xmin,t.ymin,t.xmax,t.ymax))}}},s=a,u=r("2877"),c=Object(u["a"])(s,n,i,!1,null,null,null);t["default"]=c.exports}}]);